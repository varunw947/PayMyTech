<div class="main-content">
<div>
<h4 class="main-header">Distributor Details</h4>
<a routerLink="/admin/ad/editDist/0" class="btn btn-link" style="margin-left: 900px;">Add Distributor</a>
</div>
<!--
<table class="styled-table">
    <thead>
        <tr>
            <th >Dist Code</th>
               
                <th >Dist Name</th>
                <th >Dist Outlet Name</th>

                <th >Location</th>
                <th >State</th>
                <th >Sales Person</th>

                <th >Address</th>
                <th >PinCode</th>
                <th >City</th>

                <th >Mobile</th>
                <th >Email</th>

                <th >PanCard</th>
               

            <th ></th>
            <th ></th>

            <th ></th>
           
           
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let dist of distList" class="active-row">
            <td>{{dist.distributorName}}</td>
            <td>{{dist.firstName}}</td>

            <td>{{dist.outletName}}</td>
            <td>{{dist.location}}</td>

            <td>{{dist.state}}</td>
            <td>{{dist.salesPerson}}</td>

            <td>{{dist.address}}</td>
            <td>{{dist.pinCode}}</td>
            <td>{{dist.city}}</td>

            <td>{{dist.mobile}}</td>
            <td>{{dist.emailAddress}}</td>

            <td>{{dist.panCard}}</td>

            
           

           

            <td> <a routerLink="/admin/ad/viewRetailer/{{dist.distID}}" class="btn btn-sm btn-primary mr-1">View Retailer</a></td>

           <td> <a routerLink="/admin/ad/editDist/{{dist.distID}}" class="btn btn-sm btn-primary mr-1">Edit</a></td>
            
           <td> <a class="btn btn-sm btn-primary mr-1">Delete</a></td>            
        </tr>
       
    </tbody>
</table>

-->

<p-table [value]="distList">
    <!-- <ng-template pTemplate="caption">
        Distributors List
          </ng-template> -->
  <ng-template pTemplate="header">
      <tr>
        <th>Dist Code</th>
               
        <th >Customer Name</th>
        <th >Dist Outlet Name</th>

        <th >Location</th>
        <th >State</th>
        <th >Sales Person</th>

        <th >Address</th>
        <th >PinCode</th>
        <th >City</th>

        <th >Mobile</th>
        

        <th >PanCard</th>
        <th >Email</th>
       

    <th ></th>
    <th ></th>

    <th ></th>
      </tr>
  </ng-template>
  <ng-template pTemplate="body" let-distList>
      <tr>
        <td>{{distList.distributorName}}</td>
        <td>{{distList.firstName}}</td>

        <td>{{distList.outletName}}</td>
        <td>{{distList.location}}</td>

        <td>{{distList.state}}</td>
        <td>{{distList.salesPerson}}</td>

        <td>{{distList.address}}</td>
        <td>{{distList.pinCode}}</td>
        <td>{{distList.city}}</td>

        <td>{{distList.mobile}}</td>
       

        <td>{{distList.panCard}}</td>
        <td>{{distList.emailAddress}}</td>

        
       <td> <a (click)="editUser(distList)" class="btn btn-sm btn-primary mr-1">Edit</a></td>
        
       <td> <a class="btn btn-sm btn-primary mr-1">Delete</a></td>            
      </tr>
  </ng-template>
</p-table>


<p-dialog header="Edit Distributor" [(visible)]="display">
     
  
     

  <form name="form" #f="ngForm" (ngSubmit)="f.form.valid && onSubmit(f.form)" novalidate>
       
    <div class="form-group"  [ngClass]="{ 'has-error': f.submitted && !firstname.valid }">
        
      <input type="text" placeholder="First Name" class="form-control" name="firstname" [(ngModel)]="selectedUser.firstName" #firstname="ngModel" required />
     
      <div *ngIf="f.submitted && !firstname.valid" class="help-block">First Name is required</div>
  </div>


  <div class="form-group"  [ngClass]="{ 'has-error': f.submitted && !location.valid }">
        
    <input type="text" placeholder="Enter Location" class="form-control" name="location" [(ngModel)]="selectedUser.location" #location="ngModel" required />
   
    <div *ngIf="f.submitted && !location.valid" class="help-block">Location is required</div>
</div>

<div class="form-group"  [ngClass]="{ 'has-error': f.submitted && !state.valid }">
        
  <input type="text" placeholder="Enter State" class="form-control" name="state" [(ngModel)]="selectedUser.state" #state="ngModel" required />
 
  <div *ngIf="f.submitted && !state.valid" class="help-block">State is required</div>
</div>

<div class="form-group"  [ngClass]="{ 'has-error': f.submitted && !address.valid }">
        
<input type="text" placeholder="Enter Address" class="form-control" name="address" [(ngModel)]="selectedUser.address" #address="ngModel" required />

<div *ngIf="f.submitted && !address.valid" class="help-block">Address is required</div>
</div>

<div class="form-group"  [ngClass]="{ 'has-error': f.submitted && !pincode.valid }">
        
<input type="text" placeholder="Enter Pincode" class="form-control" name="pincode" [(ngModel)]="selectedUser.pinCode" #pincode="ngModel" required />

<div *ngIf="f.submitted && !pincode.valid" class="help-block">Pincode is required</div>
</div>

<div class="form-group"  [ngClass]="{ 'has-error': f.submitted && !city.valid }">
        
<input type="text" placeholder="Enter City" class="form-control" name="city" [(ngModel)]="selectedUser.city" #city="ngModel" required />

<div *ngIf="f.submitted && !city.valid" class="help-block">City is required</div>
</div>

<div class="form-group" [ngClass]="{ 'has-error': f.submitted && !mobile.valid }">
    
<input type="text" pattern="^\s*(([+]\s?\d[-\s]?\d|0)?\s?\d([-\s]?\d){9}|[(]\s?\d([-\s]?\d)+\s*[)]([-\s]?\d)+)\s*$" placeholder="Mobile Number" class="form-control" name="mobile" [(ngModel)]="selectedUser.mobile" #mobile="ngModel" required />

<div *ngIf="f.submitted && !mobile.valid" class="help-block">Mobile Number is required</div>
<div *ngIf="mobile.errors?.pattern" class="help-block" style="color:red">Mobile Number is not valid!</div>
</div>

<div class="form-group" [ngClass]="{ 'has-error': f.submitted && !emailAddress.valid }">
    
<input type="email" [email]="true" placeholder="Email" class="form-control" name="emailAddress" [(ngModel)]="selectedUser.emailAddress" #emailAddress="ngModel" required />

<div *ngIf="f.submitted && !emailAddress.valid" class="help-block">Email is required and format should be <i>john@domain.com</i></div>
</div>

<div class="form-group"  [ngClass]="{ 'has-error': f.submitted && !outletName.valid }">
        
<input type="text" placeholder="Enter Outlet Name" class="form-control" name="outletName" [(ngModel)]="selectedUser.outletName" #outletName="ngModel" required />

<div *ngIf="f.submitted && !outletName.valid" class="help-block">outletName is required</div>
</div>


<div class="form-group">
 <div class="row">
        <button class="btn btn-primary" style="margin-left: 20px;">Update</button>
        <button class="btn btn-primary" (click)="closePopup()" style="margin-left: 20px;">Cancel</button>
  </div>
</div>


   

    </form> 

  </p-dialog>
  

</div>